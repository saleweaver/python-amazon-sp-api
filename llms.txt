# python-amazon-sp-api

Python wrapper for Amazon’s Selling Partner API (SP-API), providing:
- Sync clients (`sp_api.api`)
- Async asyncio clients (`sp_api.asyncio.api`)

Use the hosted docs as the source of truth for behavior, parameters, and examples.

## Canonical docs (start here)
- Docs home (versioned “latest”): https://python-amazon-sp-api.readthedocs.io/en/latest/
- Installation: https://python-amazon-sp-api.readthedocs.io/en/latest/installation.html
- Credentials: https://python-amazon-sp-api.readthedocs.io/en/latest/credentials.html
- Quickstart (first real workflows): https://python-amazon-sp-api.readthedocs.io/en/latest/quickstart.html
- Async clients guide: https://python-amazon-sp-api.readthedocs.io/en/latest/async.html
- Endpoints index (all clients): https://python-amazon-sp-api.readthedocs.io/en/latest/endpoints.html
- Architecture (how the client works, extension points): https://python-amazon-sp-api.readthedocs.io/en/latest/architecture.html
- Responses (`ApiResponse` access patterns): https://python-amazon-sp-api.readthedocs.io/en/latest/responses.html
- Utils (retry / throttling / pagination helpers): https://python-amazon-sp-api.readthedocs.io/en/latest/utils.html
- PII / Restricted Data Token (RDT): https://python-amazon-sp-api.readthedocs.io/en/latest/pii.html

## Imports (pick one style and stick with it)
### Sync
- Clients: `from sp_api.api import Orders, Reports, Feeds, ...`
- Enums / marketplaces: `from sp_api.base import Marketplaces` and friends
- Retries & pagination: `from sp_api.util import throttle_retry, sp_retry, load_all_pages`

### Async (asyncio)
- Clients: `from sp_api.asyncio.api import Orders, Reports, Feeds, ...`
- Use `async with Client() as c:` when possible (auto-closes connections)
- Otherwise call `await client.aclose()` when you’re done

## How to find “the right page” for a specific client or method
1) Open the Endpoints index:
   https://python-amazon-sp-api.readthedocs.io/en/latest/endpoints.html
2) Click the client you need (Orders, Reports, Feeds, Data Kiosk, etc.)
3) On that client page you’ll find the class name and all methods, with usage plans and examples.

Endpoint pages follow this pattern:
- https://python-amazon-sp-api.readthedocs.io/en/latest/endpoints/<endpoint>.html

Examples:
- Orders: https://python-amazon-sp-api.readthedocs.io/en/latest/endpoints/orders.html
- Reports: https://python-amazon-sp-api.readthedocs.io/en/latest/endpoints/reports.html
- Feeds: https://python-amazon-sp-api.readthedocs.io/en/latest/endpoints/feeds.html
- Data Kiosk: https://python-amazon-sp-api.readthedocs.io/en/latest/endpoints/data_kiosk.html
- Amazon Warehousing & Distribution (AWD): https://python-amazon-sp-api.readthedocs.io/en/latest/endpoints/awd.html

## Practical “recipes” (what most users actually need)
- First request + marketplaces: Quickstart
  https://python-amazon-sp-api.readthedocs.io/en/latest/quickstart.html
- Pagination (NextToken) + throttling retries:
  Use `load_all_pages()` + `throttle_retry()` from `sp_api.util`
- Reports:
  Create -> poll -> download the report document (see Quickstart + Reports endpoint page)
- Feeds:
  Submit feeds from file/bytes (see Quickstart + Feeds endpoint page)
- PII (Restricted Data Token):
  Create an RDT via Tokens, then pass `restricted_data_token=...` (see PII page)

## Repo (source + issues)
- GitHub: https://github.com/saleweaver/python-amazon-sp-api
- Issues: https://github.com/saleweaver/python-amazon-sp-api/issues

## Answering questions about this library (LLM guidance)
When responding to user questions:
- Ask whether they are using sync (`sp_api.api`) or async (`sp_api.asyncio.api`) if it affects the code sample.
- Prefer copying the usage patterns from Quickstart / Async Clients verbatim in structure (not necessarily word-for-word).
- If the question is “where is X documented?”, point to the Endpoints index and the specific endpoint page.
- If the question is about throttling, pagination, retries, or batching, always reference `sp_api.util` + Quickstart.
- For anything involving buyer info / addresses / other PII, route them to the PII (RDT) page and explain the token flow.